<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.16" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link rel='stylesheet' href='//fonts.googleapis.com/css?family=Open+Sans|Marcellus+SC'>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_dark.min.css">
    <link rel="stylesheet" href="http://vadimpopa.com/css/styles.css">
    <link rel="stylesheet" href="http://vadimpopa.com/css/custom.css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://vadimpopa.com//index.xml">

    
    <title>NVD3 and Raphael as alternative charting libs for Sencha Touch - All the things about web and javascript</title>
    <meta property='og:title' content="NVD3 and Raphael as alternative charting libs for Sencha Touch - All the things about web and javascript">
    <meta property="og:type" content="article">
    

    <meta property="og:url" content="http://vadimpopa.com/nvd3-and-raphael-as-alternative-charting-libs-for-sencha-touch/">
    
    

  </head>

  <body>

    <header class="site">
      <nav class="navbar navbar-default">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://vadimpopa.com/">All the things about web and javascript</a>
          </div>

          <div id="navbar" class="collapse navbar-collapse">
            
          </div>

        </div>
      </nav>
    </header>

    <div class="site">
      <div class="container">



<div class="single">

  <div class="row">
    <div class="col-md-8">

      <article class="single" itemscope="itemscope" itemtype="http://schema.org/Article">

        <meta itemprop="mainEntityOfPage"  itemType="https://schema.org/WebPage" content="http://vadimpopa.com/"/>
        <meta itemprop="dateModified" content="2013-06-22T17:50:16&#43;03:00">
        <meta itemprop="headline" content="NVD3 and Raphael as alternative charting libs for Sencha Touch">
        <meta itemprop="description" content="Below my short journey in taking a look to NVD3 and Raphael as alternative charting libraries for Sencha Touch(ST). ST has a powerful and nice charting library which is included as a part of Touch (available as GPLv3 or as a part of Sencha Complete and Complete: Team). Yet I&#8217;ve wanted to try other charts libs with a more flexible license which will allow me to integrate them easily in a ST app and develop a simple line chart ST component.
">
        <meta itemprop="url" content="http://vadimpopa.com/nvd3-and-raphael-as-alternative-charting-libs-for-sencha-touch/">
        <div itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
          <meta itemprop="url" content="http://vadimpopa.com/images/default.jpg" />
          <meta itemprop="width" content="800">
          <meta itemprop="height" content="800">
        </div>
        <div itemprop="publisher" itemscope itemtype="https://schema.org/Organization">
          <div itemprop="logo" itemscope itemtype="https://schema.org/ImageObject">
            <meta itemprop="url" content="http://vadimpopa.com/images/logo.jpg">
            <meta itemprop="width" content="100">
            <meta itemprop="height" content="100">
          </div>
          <meta itemprop="name" content="All the things about web and javascript">
        </div>
        <div itemprop="author" itemscope itemtype="https://schema.org/Person">
          <meta itemprop="name" content="Vadim Popa">
        </div>

        <header class="article-header">
          <time itemprop="datePublished" pubdate="pubdate" datetime="2013-06-22T17:50:16&#43;03:00">Sat, Jun 22, 2013</time>
          <h1 class="article-title">NVD3 and Raphael as alternative charting libs for Sencha Touch</h1>
        </header>

        <div class="article-body" itemprop="articleBody">
          <p>Below my short journey in taking a look to NVD3 and Raphael as alternative charting libraries for <a title="Sencha Touch 2" href="http://www.sencha.com/products/touch" target="_blank">Sencha Touch</a>(ST). ST has a powerful and nice charting library which is included as a part of Touch (available as GPLv3 or as a part of Sencha Complete and Complete: Team). Yet I&#8217;ve wanted to try other charts libs with a more flexible license which will allow me to integrate them easily in a ST app and develop a simple line chart ST component.</p>

<p><img class="right" src="../../images/raphael_chart-280x200.png" style="display: block;margin: 0 auto; width:280px;height:200px;">
First on the list was <a href="http://raphaeljs.com" target="_blank">Raphael</a> which is part of Sencha Labs. Integration went pretty easy, and with a few lines of code, a simple basic line chart component in ST was ready. Many thanks to the author of this <a href="http://www.exratione.com/2011/10/a-few-tips-for-graphael-line-charts/">blog</a> from which I took the Raphael example.</p>

<!-- more -->

<pre><code class="language-javascript">/*
 * xtype: 'rchartline',
 * chartData: {
 *   x: [1, 2, 3, 4, 5, 6, 7],
 *   y: [12, 32, 23, 15, 17, 27, 22]
 * }
 */

Ext.define('Ux.chart.RLine',{
    extend: 'Ext.Component',

    xtype: 'rchartline',

    config: {
        chartCfg:  {
           nostroke: false,   // lines between points are drawn
           axis: &quot;0 0 1 1&quot;,   // draw axes on the left and bottom
           symbol: &quot;circle&quot;,    // use a filled circle as the point symbol
           smooth: true,      // curve the lines to smooth turns on the chart
           dash: &quot;-&quot;,         // draw the lines dashed
           colors: [
             &quot;#995555&quot;,       // the first line is red
             &quot;#555599&quot;        // the second line is blue
           ]
         },
         chartData: {
          x: [],
          y: []
         }
    },
    initialize: function(){
      this.canvas = Raphael(this.innerElement.createChild({tag: &quot;div&quot;, cls: 'raphael-chartWrapper'}).dom);

      this.on('painted',function(){
          var data = this.getChartData();

          this.canvas.linechart(10,10,390,180,data.x,data.y,this.getChartCfg());
      });
    }
});
</code></pre>

<p><img class="right" src="../../images/nvd3-280x200.png" style="display: block;margin: 0 auto; width:200px;height:160px;">
Next one was <a href="http://nvd3.org" target="_blank">NVD3</a>, a very nice simple library based on the powerful <a href="http://d3js.org" target="_blank">D3</a>. While NVD3 is not documented, D3 seems very well documented, and since the former is sort of facade to the second, it&#8217;s good to check for examples and documentation on both sites. As you can see form first example you can suppose already that making an ST chart component based on NVD3 is also easy, which is true. The difference is that following example has the implementation of real time update while on Raphael it doesn&#8217;t. That&#8217;s because I was constrained by project time and haven&#8217;t had it enough for looking the best way of how to do it (one of the ideas which worked was a call of canvas.clear() and draw the chart from scratch with linechart method).</p>

<pre><code class="language-javascript">Ext.define('Ux.chart.Line',{
    extend: 'Ext.Component',

    xtype: 'chartline',

    initialize: function(){

      nv.addGraph(Ext.bind(function(){
          var chart = nv.models.lineChart();

          chart.xAxis.tickFormat(function (d) {
            return d3.time.format('%x')(new Date(d))
          });

          chart.yAxis.tickFormat(d3.format(',.1%'));

          d3.select(this.innerElement.dom).append('svg');

          nv.utils.windowResize(chart.update);

          this.chart = chart;

          return chart;
      },this));

      this.on('painted',function(){
          this.redraw();

          setInterval(Ext.bind(function () {
            var long = this.getData()[0].values,
                next = new Date(long[long.length - 1].x);

            next.setDate(next.getDate() + 1);
            long.shift();
            long.push({x:next.getTime(), y:Math.random() * 100});

            this.redraw();

          },this), 1500);
      },this)

    },

    redraw: function() {
      d3.select(this.innerElement.down('svg').dom)
            .datum(this.getData())
            .transition().duration(500)
            .call(this.chart);
    },
    generateData: function() {
        var arr = [],
            theDate = new Date(2012, 01, 01, 0, 0, 0, 0);

        for (var x = 0; x &amp;lt; 30; x++) {
            arr.push({x: theDate.getTime(), y: Math.random() * 100});
            theDate.setDate(theDate.getDate() + 1);
        }
        return arr;
    },
    getData: function() {
      return [{
        &quot;key&quot;: &quot;Long&quot;,
        &quot;values&quot;: this.generateData()
      }];
    }
});
</code></pre>

<p>At first impression D3 seems very powerful in charts drawing and richer than Raphael. Since it gave good results I stopped looking for other libraries and started work on an extension based on NVD3 and above example. For full examples source code and a running demo check my <a href="https://github.com/vadimpopa/Ux.chart.Line" target="_blank">github repo</a>.</p>

<p>My journey stops here and I wish you happy charting.</p>

        </div>


        <aside>
          <div class="section"><a href="http://vadimpopa.com/tags/javascript" class="tag">javascript</a> <a href="http://vadimpopa.com/tags/Charts" class="tag">Charts</a> <a href="http://vadimpopa.com/tags/mobile" class="tag">mobile</a> <a href="http://vadimpopa.com/tags/Sencha%20Touch%202" class="tag">Sencha Touch 2</a> </div>

          <div class="section share">
            <a href="http://www.facebook.com/sharer.php?src=bm&u=http%3a%2f%2fvadimpopa.com%2fnvd3-and-raphael-as-alternative-charting-libs-for-sencha-touch%2f&t=NVD3%20and%20Raphael%20as%20alternative%20charting%20libs%20for%20Sencha%20Touch" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-facebook"></i></a>
            <a href="http://twitter.com/intent/tweet?url=http%3a%2f%2fvadimpopa.com%2fnvd3-and-raphael-as-alternative-charting-libs-for-sencha-touch%2f&text=NVD3%20and%20Raphael%20as%20alternative%20charting%20libs%20for%20Sencha%20Touch&tw_p=tweetbutton" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-twitter"></i></a>
            <a href="https://plus.google.com/share?url=http%3a%2f%2fvadimpopa.com%2fnvd3-and-raphael-as-alternative-charting-libs-for-sencha-touch%2f" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-google-plus"></i></a>
            <a href="http://getpocket.com/edit?url=http%3a%2f%2fvadimpopa.com%2fnvd3-and-raphael-as-alternative-charting-libs-for-sencha-touch%2f&title=NVD3%20and%20Raphael%20as%20alternative%20charting%20libs%20for%20Sencha%20Touch" onclick="window.open(this.href, 'PCwindow', 'width=550, height=350, menubar=no, toolbar=no, scrollbars=yes'); return false;"><i class="fa fa-get-pocket"></i></a>
          </div>

          
          
          <div class="section">
            <div id="disqus_thread"></div>
            <script type="text/javascript">
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  var disqus_shortname = 'vadimpopacom';
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            <a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
          
          
        </aside>

      </article>

    </div>
    <div class="col-md-4">
      
<aside class="site">
<section class="even">

  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 class="panel-title">found on</h2>
    </div>
    <div class="found-on-list">
      <a href="mailto:vadimvpopa@gmail.com" rel="tooltip" title="vadimvpopa@gmail.com"><i class="fa fa-envelope-o"></i></a>
      <a href="https://twitter.com/vadimvpopa" rel="tooltip" title="twitter"><i class="fa fa-twitter"></i></a>
      <a href="https://github.com/vadimpopa/" rel="tooltip" title="github"><i class="fa fa-github"></i></a>
      <a href="http://www.linkedin.com/in/vadimpopa" rel="tooltip" title="linkedin"><i class="fa fa-linkedin"></i></a>
    </div>
  </div>
</section>


  
  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 class="panel-title">category</h2>
    </div>
    <div class="list-group">
      
      <a href="http://vadimpopa.com/categories/javascript" class="list-group-item">javascript</a>
      
      <a href="http://vadimpopa.com/categories/extjs-4" class="list-group-item">extjs-4</a>
      
      <a href="http://vadimpopa.com/categories/angularjs1" class="list-group-item">angularjs1</a>
      
      <a href="http://vadimpopa.com/categories/charts" class="list-group-item">charts</a>
      
      <a href="http://vadimpopa.com/categories/sencha-touch-2" class="list-group-item">sencha-touch-2</a>
      
      <a href="http://vadimpopa.com/categories/mobile" class="list-group-item">mobile</a>
      
      <a href="http://vadimpopa.com/categories/sencha" class="list-group-item">sencha</a>
      
      <a href="http://vadimpopa.com/categories/blog" class="list-group-item">blog</a>
      
      <a href="http://vadimpopa.com/categories/d3js" class="list-group-item">d3js</a>
      
      <a href="http://vadimpopa.com/categories/github-pages" class="list-group-item">github-pages</a>
      
    </div>
  </div>
  
  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 class="panel-title">tag</h2>
    </div>
    <div class="list-group">
      
      <a href="http://vadimpopa.com/tags/javascript" class="list-group-item">javascript</a>
      
      <a href="http://vadimpopa.com/tags/extjs4" class="list-group-item">extjs4</a>
      
      <a href="http://vadimpopa.com/tags/angularjs" class="list-group-item">angularjs</a>
      
      <a href="http://vadimpopa.com/tags/extjs" class="list-group-item">extjs</a>
      
      <a href="http://vadimpopa.com/tags/sencha-touch-2" class="list-group-item">sencha-touch-2</a>
      
      <a href="http://vadimpopa.com/tags/charts" class="list-group-item">charts</a>
      
      <a href="http://vadimpopa.com/tags/controller" class="list-group-item">controller</a>
      
      <a href="http://vadimpopa.com/tags/directive" class="list-group-item">directive</a>
      
      <a href="http://vadimpopa.com/tags/mobile" class="list-group-item">mobile</a>
      
      <a href="http://vadimpopa.com/tags/sencha" class="list-group-item">sencha</a>
      
    </div>
  </div>
  

  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 class="panel-title">recent posts</h2>
    </div>
    <div class="list-group">
      
      <a href="http://vadimpopa.com/lazy-loading-components-with-componentloader/" class="list-group-item">Lazy loading Components with ComponentLoader</a>
      
      <a href="http://vadimpopa.com/sencha-viewmodel-tips/" class="list-group-item">Sencha ViewModel Tips</a>
      
      <a href="http://vadimpopa.com/compile-can-boost-your-directives/" class="list-group-item">Compile can boost your directives</a>
      
      <a href="http://vadimpopa.com/split-large-angularjs-controllers-using-the-mixin-pattern/" class="list-group-item">Split large AngularJS Controllers using the Mixin Pattern</a>
      
      <a href="http://vadimpopa.com/new-year-and-new-blog-powered-by-octopress-and-github-pages/" class="list-group-item">New year and new blog powered by Octopress and Github Pages</a>
      
      <a href="http://vadimpopa.com/onblur-like-for-a-div-in-angularjs-to-close-a-popup/" class="list-group-item">Onblur like for a div in AngularJS to close a popup</a>
      
      <a href="http://vadimpopa.com/first-thoughts-about-angularjs-from-an-extjs-developer-perspective/" class="list-group-item">First thoughts about AngularJS from an ExtJS developer perspective</a>
      
      <a href="http://vadimpopa.com/how-to-add-svg-patterns-in-your-extjs-4-2-1-apps/" class="list-group-item">How to add SVG patterns in your ExtJS 4.2.1 apps</a>
      
      <a href="http://vadimpopa.com/how-to-add-custom-sprites-in-extjs-charts/" class="list-group-item">How to add custom sprites in ExtJS charts</a>
      
      <a href="http://vadimpopa.com/nvd3-and-raphael-as-alternative-charting-libs-for-sencha-touch/" class="list-group-item">NVD3 and Raphael as alternative charting libs for Sencha Touch</a>
      
    </div>
  </div>
  
  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 class="panel-title">recent comments</h2>
    </div>
      <div id="dsq-recentcomments" class="dsq-widget"><script type="text/javascript" src="http://disqus.com/forums/vadimpopacom/recent_comments_widget.js?hide_avatars=1"></script></div>
  </div>
</aside>


    </div>
  </div>

</div>

      </div>
    </div>

    <footer class="site">
      <div class="container">
        <p>Copyright (c) 2008 - 2014, Vadim Popa; all rights reserved.</p>
        <p>Powered by <a href="http://gohugo.io" target="_blank" rel="nofollow">Hugo</a></p>
      </div>
    </footer>

    <script src="//code.jquery.com/jquery-2.2.1.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-36108032-2', 'auto');
    ga('send', 'pageview');
    </script>
    

  </body>
</html>

